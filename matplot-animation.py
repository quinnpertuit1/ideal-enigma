import numpy as np
import matplotlib.pyplot as plt
import mpl_toolkits.mplot3d.axes3d as p3
import matplotlib.animation as animation
import pandas as pd
from sys import exit

def update_lines(num, data, line):
    line.set_data(data[0:2, :num])
    line.set_3d_properties(data[2, :num])
    return line

# x = distance from screen away from user
# y = distance left or right
# z = height

x = [9974.563,10017.888,10058.331,10096.2,10131.771,10165.291,10196.984,10227.046,10255.652,10282.958,10309.099,10334.195,10358.352,10381.659,10404.197,10426.033,10447.228,10467.833,10487.892,10507.444,10526.524,10545.161,10563.382,10581.212,10598.674,10615.789,10632.577,10649.06,10665.257,10681.189,10696.876,10712.338,10727.596,10742.672,10757.584,10772.352,10786.996,10801.532,10815.976,10830.338,10844.629,10858.851,10870.886]
y = [12963.628,12947.29,12931.773,12916.999,12902.899,12889.41,12876.473,12864.038,12852.057,12840.488,12829.293,12818.44,12807.899,12797.642,12787.646,12777.89,12768.357,12759.029,12749.893,12740.935,12732.145,12723.513,12715.029,12706.685,12698.475,12690.39,12682.425,12674.574,12666.83,12659.187,12651.639,12644.181,12636.805,12629.507,12622.279,12615.115,12608.009,12600.954,12593.942,12586.968,12580.025,12573.106,12567.239]
z = [135.455,148.746,161.526,173.735,185.317,196.223,206.41,215.842,224.489,232.325,239.329,245.484,250.779,255.205,258.757,261.435,263.238,264.172,264.241,263.453,261.819,259.35,256.056,251.951,247.049,241.362,234.904,227.689,219.73,211.039,201.628,191.506,180.682,169.164,156.958,144.067,130.492,116.233,101.287,85.649,69.308,52.255,37.188]

# does not contain calculated values only extrapolated
x2 = [9993.492,9983.6,9974.468,9966.019,9958.18,9950.888,9944.086,9937.725,9931.76,9926.151,9920.865,9915.871,9911.143,9906.658,9902.395,9898.337,9894.469,9890.777,9887.247,9883.87,9880.634,9877.532,9874.553,9871.689,9868.933,9866.275,9863.709,9861.225,9858.817,9856.475,9854.192,9851.96,9849.771,9847.617,9845.492]
y2 = [9395.62,9351.234,9309.511,9270.208,9233.102,9197.992,9164.693,9133.041,9102.887,9074.095,9046.546,9020.13,8994.751,8970.32,8946.76,8924,8901.977,8880.635,8859.923,8839.793,8820.204,8801.118,8782.498,8764.31,8746.525,8729.112,8712.044,8695.293,8678.833,8662.639,8646.686,8630.952,8615.412,8600.045,8584.83]
z2 = [1025.647,1037.965,1049.886,1061.324,1072.205,1082.47,1092.072,1100.971,1109.138,1116.551,1123.195,1129.059,1134.138,1138.431,1141.936,1144.659,1146.601,1147.768,1148.164,1147.794,1146.662,1144.769,1142.117,1138.706,1134.533,1129.595,1123.887,1117.401,1110.128,1102.06,1093.186,1083.495,1072.975,1061.617,1049.41]


x3 = [8599.516,8628.12,8655.129,8680.697,8704.961,8728.046,8750.062,8771.106,8791.267,8810.623,8829.243,8847.19,8864.519,8881.28,8897.518,8913.274,8928.587,8943.489,8958.014,8972.191,8986.049,8999.617,9012.919,9025.982,9038.83,9051.487,9063.978,9076.324,9088.546,9100.665,9112.699,9124.665,9136.575,9148.442,9160.273,9172.07]
y3 = [6981.407,7016.875,7049.945,7080.861,7109.842,7137.082,7162.755,7187.015,7209.997,7231.822,7252.598,7272.417,7291.363,7309.511,7326.924,7343.662,7359.777,7375.317,7390.324,7404.841,7418.903,7432.548,7445.809,7458.72,7471.313,7483.619,7495.671,7507.498,7519.131,7530.599,7541.928,7553.146,7564.275,7575.337,7586.348,7597.321]
z3 = [135.568,148.872,161.567,173.618,184.997,195.683,205.657,214.906,223.418,231.185,238.2,244.459,249.957,254.69,258.656,261.851,264.27,265.908,266.761,266.822,266.082,264.533,262.166,258.968,254.929,250.036,244.275,237.633,230.096,221.652,212.288,201.993,190.758,178.575,165.439,151.351]


currentx = x
currenty = y
currentz = z

for i in [1,2,3]:
    fig = plt.figure()
    ax = p3.Axes3D(fig)

    padding = 25.0

    if i == 1:
        currentx = x
        currenty = y
        currentz = z
    elif i == 2:
        currentx = x2
        currenty = y2
        currentz = z2
    else:
        currentx = x3
        currenty = y3
        currentz = z3

    data = np.array((currentx, currenty, currentz))
    line = ax.plot(data[0, 0:1], data[1, 0:1], data[2, 0:1])[0]
    ax.set_xlim3d([min(currentx)-padding, max(currentx)+padding])
    ax.set_label('x')

    ax.set_ylim3d([min(currenty)-padding, max(currenty)+100.0])
    ax.set_ylabel('y')

    ax.set_zlim3d([min(currentz)-padding, max(currentz)+padding])
    ax.set_zlabel('z')

    ax.set_title('Shot Tracer')
    ax.view_init(elev=0, azim=55)
    ax._axis3don=False

    line_ani = animation.FuncAnimation(fig, update_lines, data.shape[1], fargs=(data, line), interval=50, blit=False, repeat=False)

    plt.show()

# print('Distance (x) difference:', max(currentx)-min(currentx))
# print('Curve (y) difference:', max(currenty)-min(currenty))
# print('Trajectory (z) difference:', max(currentz)-min(currentz))
